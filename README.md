# Explore With Me Cloud

"Explore With Me Cloud" - это альтернативная реализация проекта ["Explore With Me"](https://github.com/catarena-s/java-explore-with-me) с использованием Spring Cloud. Это микросервисное приложение, предназначенное для планирования событий и создания групп для участия в различных мероприятиях.

## Структура проекта

Проект организован на основе микросервисов, каждый из которых выполняет определенные функции. Дополнительные модули, такие как `Eureka Server`, `Config Service`, и `Gateway Service`, помогают обеспечить эффективное взаимодействие между микросервисами и управление настройками.

## Стек технологий
**Java 17**, **Spring**(Boot, Data, Cloud), **Hibernate**(JPA), REST, Lombok, Liquibase, PostgreSQL, Maven, Postman, Kafka

## Модули

### Сервис управления пользователями

Этот сервис отвечает за управление пользователями в системе. Он предоставляет API для регистрации новых пользователей, аутентификации, обновления профилей пользователей и многое другое. Важная часть этого сервиса - это управление данными пользователей, их авторизация и безопасность.

### Сервис управления подборками мероприятий

Этот сервис занимается созданием и управлением подборками мероприятий. Подборки могут быть тематическими, событийными или какими-либо другими категориями мероприятий. Пользователи могут создавать и редактировать подборки, добавлять мероприятия в них и делиться ими с другими пользователями.

### Сервис управления запросами на участие в мероприятии

Этот сервис обеспечивает управление запросами от пользователей, желающих участвовать в конкретных мероприятиях из подборок. Пользователи могут отправлять запросы на участие, а организаторы мероприятий могут принимать или отклонять эти запросы. 

### Сервис подписки на друзей

Этот сервис предоставляет возможность пользователям подписываться на других пользователей и получать уведомления о событиях и активностях, связанных с их друзьями. Это способствует социальной взаимосвязи в приложении и позволяет пользователям быть в курсе событий, которые интересны их друзьям.

### Сервис управления мероприятиями

Этот сервис отвечает за создание, редактирование и управление мероприятиями. Пользователи могут создавать мероприятия различных типов, например, выставки, спортивные мероприятия, походы в кино и многое другое. Сервис также предоставляет информацию о доступных мероприятиях, и пользователи могут искать и присоединяться к ним.

Каждый из этих сервисов является отдельным микросервисом и имеет свою собственную базу данных для хранения данных. Это позволяет масштабировать и разрабатывать каждый сервис независимо, что делает приложение более гибким и эффективным.

## Безопасность

На данном этапе безопасность проекта ограничивается минимальными настройками. Дополнительные меры безопасности будут внедряться на более поздних этапах.

## TO DO
1. [x] Создать сервис для получения настроек с GitHub.
2. [x] Создать сервис EurekaServer - реестр сервисов для организации динамической регистрации и обнаружения микросервисов.
3. [x] Создать сервис Spring Gateway - маршрутизатор для перенаправления запросов к соответствующим микросервисам.
4. [x] Перенести функционал из исходного проекта "Explore With Me".
5. [x] Проверить работу и запуск тестов (при необходимости поправить).
6. [x] Добавить Liquibase для управления миграциями базы данных.
7. [x] Разделить основной функционал на микросервисы:
    - [x] Сервис управления пользователями.
    - [x] Сервис управления подборками мероприятий.
    - [x] Сервис управления запросами на участие в мероприятии.
    - [x] Сервис подписки на друзей.
    - [x] Сервис управления мероприятиями и т.д.
8. [x] Для каждого микросервиса создать отдельную базу данных.
9. [x] Добавить работу с RabbitMQ или Kafka:
    - [x] Реализовать оповещения о новых событиях.
    - [x] Реализовать подтверждение участия и уведомления о новых участниках.
    - [x] Реализовать уведомление о запросе на дружбу, подтверждение/отклонение запроса на дружбу.
10. [ ] Внедрить Spring Security для обеспечения безопасности приложения.
    
## Использование Apache Kafka
Для обеспечения асинхронной обработки событий и оповещений в приложении внедрено Apache Kafka:

- **Оповещения о новых событиях**: Когда пользователь создает новое событие, информация о событии отправляется в Kafka. 
Это позволяет заинтересованным пользователям быстро узнавать о новых событиях и реагировать на них.

- **Подтверждение участия и уведомления о новых участниках**: Если пользователь решает присоединиться к событию, его решение также отправляется в Kafka. 
Организаторы события или другие участники могут получать уведомления о новых участниках.

- **Запросы на дружбу и уведомление о подтверждении/отклонении запроса**:Запросы на установление дружеских связей и уведомления о подтверждении или отклонении этих запросов также осуществляются через Kafka. 
При создании запроса на установление дружбы информация о нем передается через Kafka, а решение пользователя о его подтверждении или отклонении также обрабатывается с использованием Kafka. 

---

Исходный проект "Explore With Me" доступен [здесь](https://github.com/catarena-s/java-explore-with-me).

